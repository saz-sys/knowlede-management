{
  "id": "snapshot_1758958819195_ccp8dogi2",
  "approvalId": "approval_1758958695469_tu6a68l5r",
  "approvalTitle": "engineering-knowledge-sharing requirements v2",
  "version": 5,
  "timestamp": "2025-09-27T07:40:19.195Z",
  "trigger": "approved",
  "status": "pending",
  "content": "# engineering-knowledge-sharing 要件定義\n\n## 1. 概要\nPdE内のエンジニアが収集した技術記事や実務知見を継続的に蓄積し、組織全体のスキル底上げにつなげる社内Webサービスの要件を定義する。ミニマム構成として、Next.js + Supabase（Free Tier）を基盤に採用し、Slack連携とRSS取り込みを通じて情報循環を活性化する。\n\n## 2. ステークホルダー\n- PdEエンジニア（主要利用者、投稿・閲覧・ディスカッション）\n- PdEマネージャー / EM（チーム学習状況の把握と促進）\n- PdEナレッジマネジメント担当（RSS管理、投稿品質のモデレーション）\n\n## 3. 目標\n- サービス開始3ヶ月以内にPdEエンジニアの月次投稿者率30%以上を達成する。\n- サービス開始6ヶ月以内にSlackダイジェストからの週次訪問率70%以上を維持する。\n- 1年以内に主要技術テーマごとのナレッジカードを各10件以上蓄積する。\n\n## 4. 非目標（スコープ外）\n- 社外公開やパートナー企業向けのアクセス提供。\n- VPN専用アクセスや専用ハードウェア導入。\n- エンジニア評価制度との直接的な連携。\n\n## 5. 課題と洞察\n- 現状の課題: 情報収集・共有が個人に閉じ、Slackで流れてしまうため蓄積されない。\n- ユーザーニーズ: 信頼できる仲間のコメント付きキュレーションと集中議論の場が欲しい。\n- 既存のワークアラウンド: RSSリーダーや個人Notionで管理しているが組織活用できていない。\n\n## 6. 要求事項（EARS形式ユーザーストーリー）\n\n### REQ-001 コメント付き投稿作成\n- 種別: 機能\n- ロール: PdEエンジニア\n- きっかけ (When...): When エンジニアが有益な記事や知見を共有したいとき\n- システム応答 (the system shall...): the system shall 記事リンク、独自コメント、タグ、引用ハイライトを添えて投稿できるエディタを提供する\n- 理由 / 価値: 文脈と洞察を付与することで閲覧動機を高める\n- 受け入れ基準:\n  - [ ] Markdownリッチテキスト入力が可能\n  - [ ] タグを最低1つ選択必須\n  - [ ] 投稿保存後にSlack通知設定ダイアログを表示\n\n### REQ-002 ディスカッションとナレッジ蓄積\n- 種別: 機能\n- ロール: PdEエンジニア\n- きっかけ: When 投稿された知見について議論したいとき\n- システム応答: the system shall スレッド型コメントと議論内容を要約できるナレッジカード化機能を提供する\n- 理由 / 価値: Slackで流れがちな議論を後から参照できるようにする\n- 受け入れ基準:\n  - [ ] 階層コメントと@メンション、リアクションが利用できる\n  - [ ] 投稿者またはモデレーターが議論を要約してカード化できる\n\n### REQ-003 RSSおよび外部情報取り込み\n- 種別: 機能\n- ロール: PdEナレッジマネジメント担当\n- きっかけ: When RSSや外部ソースから情報をキュレーションしたいとき\n- システム応答: the system shall RSSフィード登録、定期取得、自動タグ推定と承認フローを提供する\n- 理由 / 価値: RSS購読との差別化と幅広い情報の取り込み\n- 受け入れ基準:\n  - [ ] RSSフィードの追加・編集・停止が行える\n  - [ ] 取得した記事にタグ候補と要約を自動生成\n  - [ ] 承認後に投稿として公開できる\n\n### REQ-004 Slack通知とダイジェスト配信\n- 種別: 機能\n- ロール: PdEエンジニア\n- きっかけ: When 新規投稿やナレッジカードが公開されたとき、または週次のまとめ配信タイミング\n- システム応答: the system shall Slackチャンネルへ概要付き通知と週次ダイジェストを送信する\n- 理由 / 価値: Slack経由でのリマインドによりサービス訪問を促す\n- 受け入れ基準:\n  - [ ] 投稿保存時に通知対象チャンネルを選択可能\n  - [ ] 週次ダイジェストにトップ投稿・未読数を含む\n  - [ ] 通知のミュート時間帯設定ができる\n\n### REQ-005 ナレッジ検索とタグナビゲーション\n- 種別: 機能\n- ロール: PdEエンジニア、PdEマネージャー\n- きっかけ: When 過去の議論や特定テーマの知見を参照したいとき\n- システム応答: the system shall 投稿・コメント・カードを横断検索し、タグ・投稿者・期間で絞り込めるUIを提供する\n- 理由 / 価値: アーカイブの再利用と意思決定支援\n- 受け入れ基準:\n  - [ ] 投稿・コメント・カードを対象とした全文検索が1秒以内（p90）で返る\n  - [ ] タグ人気度や関連タグを表示する\n\n## 7. 非機能要件\n- 認証: Supabase Auth + Google Workspaceドメイン制限。MFAはGoogle側ポリシーで強制。\n- アクセス制御: 招待済みアカウントのみ利用可。社外ネットワークからのアクセスを許可しつつ、SSO後のトークン検証でゼロトラストを実現。\n- 可用性: Free Tier前提で、主要画面の初期表示を2秒以内（p90）とし、障害時は手動復旧手順で対応する。\n- セキュリティ: HTTPS/TLS必須、CSRF・XSS対策、監査ログをSupabaseに90日以上保管。\n- 運用: RSS取得やSlack配信はSupabase Edge Functionsの無料スケジューラで実行、失敗時は通知。\n\n## 8. 分析指標 / 成功指標\n- 週次アクティブ読者数、月次投稿者率、コメント参加率。\n- Slackダイジェストの開封率・クリック率、通知からの訪問転換率。\n- タグ別投稿数、ナレッジカード作成数、RSS取り込み承認率。\n- 新規利用者の初回投稿までの平均日数。\n\n## 9. リスクと前提条件\n- リスク: Supabaseの無料枠制限によりスループットが不足する可能性。\n- リスク: 無料構成では監視・アラートが簡易で、障害検知が遅れる恐れ。\n- 前提条件: Google WorkspaceドメインとSlack APIトークンが利用可能であること。\n- 前提条件: RSSソースの著作権・利用規約を遵守するモデレーション体制が整うこと。\n\n## 10. 未解決事項 / 次のステップ\n- 非アクティブユーザー向けリマインド方法（メール等）の必要性検討。\n- ナレッジカードの品質担保ポリシー策定。\n- 将来的な有償プラン移行やスケールアウト要件の整理。\n- ベータリリース対象チームとモニタリング体制の策定。\n\n",
  "fileStats": {
    "size": 6716,
    "lines": 106,
    "lastModified": "2025-09-27T07:39:18.223Z"
  },
  "comments": []
}