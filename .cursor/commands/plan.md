---
description: "指定された機能の実装計画を作成します。これは仕様駆動開発ライフサイクルの第2ステップです。"
---

指定された機能の実装計画を作成します。

これは仕様駆動開発ライフサイクルの第2ステップです。

引数として提供された実装詳細に基づいて、以下を実行してください：

1. リポジトリルートから `scripts/setup-plan.sh --json` を実行し、FEATURE_SPEC、IMPL_PLAN、SPECS_DIR、BRANCHのJSONを解析します。今後のすべてのファイルパスは絶対パスである必要があります。
2. 機能仕様を読み込んで分析し、以下を理解します：
   - 機能要件とユーザーストーリー
   - 機能要件と非機能要件
   - 成功基準と受け入れ基準
   - 技術的制約や依存関係

3. 実装計画テンプレートを実行します：
   - `/templates/plan-template.md` を読み込みます（すでにIMPL_PLANパスにコピー済み）
   - 入力パスをFEATURE_SPECに設定します
   - 実行フロー（メイン）機能のステップ1-10を実行します
   - テンプレートは自己完結型で実行可能です
   - 指定されたエラーハンドリングとゲートチェックに従います
   - テンプレートに$SPECS_DIRでのアーティファクト生成をガイドさせます：
     * フェーズ0はresearch.mdを生成
     * フェーズ1はdata-model.md、contracts/、quickstart.mdを生成
     * フェーズ2はtasks.mdを生成
   - 引数からのユーザー提供詳細を技術的コンテキストに組み込みます：{ARGS}
   - 各フェーズ完了時に進捗追跡を更新します

4. 実行完了を確認します：
   - 進捗追跡ですべてのフェーズが完了していることを確認
   - 必要なすべてのアーティファクトが生成されていることを確認
   - 実行にERROR状態がないことを確認

5. ブランチ名、ファイルパス、生成されたアーティファクトで結果を報告します。

パスの問題を避けるため、すべてのファイル操作にはリポジトリルートを基準とした絶対パスを使用してください。
